import _extends from "@babel/runtime/helpers/esm/extends";
import _classCallCheck from "@babel/runtime/helpers/esm/classCallCheck";
import _createClass from "@babel/runtime/helpers/esm/createClass";
import _possibleConstructorReturn from "@babel/runtime/helpers/esm/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime/helpers/esm/getPrototypeOf";
import _inherits from "@babel/runtime/helpers/esm/inherits";
import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";

var _css;

import React, { PureComponent } from 'react';
import PropTypes from 'prop-types';
import Box from 'ui-box';
import { css } from 'glamor';
import cx from 'classnames';
import { Text } from '../../typography';
import { withTheme } from '../../theme';
var labelClass = css({
  display: 'flex',
  flex: 1,
  alignItems: 'center',
  justifyContent: 'center',
  position: 'relative'
});
var wrapperClass = css((_css = {
  position: 'relative',
  display: 'flex',
  flex: 1,
  cursor: 'pointer',
  marginLeft: '-1px'
}, _defineProperty(_css, ":first-child .".concat(labelClass), {
  borderTopLeftRadius: 3,
  borderBottomLeftRadius: 3
}), _defineProperty(_css, ":last-child .".concat(labelClass), {
  borderTopRightRadius: 3,
  borderBottomRightRadius: 3
}), _css));
var offscreenCss = css({
  overflow: 'hidden',
  position: 'absolute',
  height: '1px',
  width: '1px',
  padding: 0,
  margin: '-1px',
  border: 0,
  clip: 'rect(0 0 0 0)'
});

var SegmentedControlRadio =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(SegmentedControlRadio, _PureComponent);

  function SegmentedControlRadio() {
    _classCallCheck(this, SegmentedControlRadio);

    return _possibleConstructorReturn(this, _getPrototypeOf(SegmentedControlRadio).apply(this, arguments));
  }

  _createClass(SegmentedControlRadio, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          theme = _this$props.theme,
          id = _this$props.id,
          name = _this$props.name,
          label = _this$props.label,
          value = _this$props.value,
          height = _this$props.height,
          checked = _this$props.checked,
          _onChange = _this$props.onChange,
          appearance = _this$props.appearance,
          isFirstItem = _this$props.isFirstItem,
          isLastItem = _this$props.isLastItem,
          disabled = _this$props.disabled;
      var themedClassName = theme.getSegmentedControlRadioClassName(appearance);
      var textSize = theme.getTextSizeForControlHeight(height);
      var borderRadius = theme.getBorderRadiusForControlHeight(height);
      return React.createElement(Box, _extends({
        className: cx(wrapperClass.toString(), themedClassName),
        "data-active": checked
      }, isFirstItem ? {
        borderTopLeftRadius: borderRadius,
        borderBottomLeftRadius: borderRadius
      } : {}, isLastItem ? {
        borderTopRightRadius: borderRadius,
        borderBottomRightRadius: borderRadius
      } : {}), React.createElement("input", {
        type: "radio",
        id: id,
        className: "".concat(offscreenCss),
        name: name,
        value: value,
        checked: checked,
        onChange: function onChange(e) {
          return _onChange(e.target.value);
        },
        disabled: disabled
      }), React.createElement(Text, {
        is: "label",
        cursor: "pointer",
        htmlFor: id,
        fontWeight: 500,
        size: textSize,
        className: "".concat(labelClass),
        disabled: disabled
      }, label));
    }
  }]);

  return SegmentedControlRadio;
}(PureComponent);

SegmentedControlRadio.displayName = "SegmentedControlRadio";

_defineProperty(SegmentedControlRadio, "propTypes", {
  /**
   * The name attribute of the radio input.
   */
  name: PropTypes.string.isRequired,

  /**
   * The label used for the radio.
   */
  label: PropTypes.node.isRequired,

  /**
   * The value attribute of the radio input.
   */
  value: PropTypes.string.isRequired,

  /**
   * The height of the control.
   */
  height: PropTypes.number.isRequired,

  /**
   * When true, the radio input is checked.
   */
  checked: PropTypes.bool.isRequired,

  /**
   * Function called when the state changes.
   */
  onChange: PropTypes.func.isRequired,

  /**
   * The appearance of the control. Currently only `default` is possible.
   */
  appearance: PropTypes.string.isRequired,

  /**
   * When true, this item is the first item.
   */
  isFirstItem: PropTypes.bool,

  /**
   * When true, this item is the last item.
   */
  isLastItem: PropTypes.bool,

  /**
   * The unique id of the radio option.
   */
  id: PropTypes.string,

  /**
   * Theme provided by ThemeProvider.
   */
  theme: PropTypes.object.isRequired,

  /**
   * When true, the input is disabled.
   */
  disabled: PropTypes.bool
});

export default withTheme(SegmentedControlRadio);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZWdtZW50ZWQtY29udHJvbC9zcmMvU2VnbWVudGVkQ29udHJvbFJhZGlvLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwiUHVyZUNvbXBvbmVudCIsIlByb3BUeXBlcyIsIkJveCIsImNzcyIsImN4IiwiVGV4dCIsIndpdGhUaGVtZSIsImxhYmVsQ2xhc3MiLCJkaXNwbGF5IiwiZmxleCIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInBvc2l0aW9uIiwid3JhcHBlckNsYXNzIiwiY3Vyc29yIiwibWFyZ2luTGVmdCIsImJvcmRlclRvcExlZnRSYWRpdXMiLCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzIiwiYm9yZGVyVG9wUmlnaHRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsIm9mZnNjcmVlbkNzcyIsIm92ZXJmbG93IiwiaGVpZ2h0Iiwid2lkdGgiLCJwYWRkaW5nIiwibWFyZ2luIiwiYm9yZGVyIiwiY2xpcCIsIlNlZ21lbnRlZENvbnRyb2xSYWRpbyIsInByb3BzIiwidGhlbWUiLCJpZCIsIm5hbWUiLCJsYWJlbCIsInZhbHVlIiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwiYXBwZWFyYW5jZSIsImlzRmlyc3RJdGVtIiwiaXNMYXN0SXRlbSIsImRpc2FibGVkIiwidGhlbWVkQ2xhc3NOYW1lIiwiZ2V0U2VnbWVudGVkQ29udHJvbFJhZGlvQ2xhc3NOYW1lIiwidGV4dFNpemUiLCJnZXRUZXh0U2l6ZUZvckNvbnRyb2xIZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJnZXRCb3JkZXJSYWRpdXNGb3JDb250cm9sSGVpZ2h0IiwidG9TdHJpbmciLCJlIiwidGFyZ2V0Iiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIm5vZGUiLCJudW1iZXIiLCJib29sIiwiZnVuYyIsIm9iamVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE9BQU9BLEtBQVAsSUFBZ0JDLGFBQWhCLFFBQXFDLE9BQXJDO0FBQ0EsT0FBT0MsU0FBUCxN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LEVBQUFBLFFBQVEsRUFBRW5DLFNBQVMsQ0FBQ3NELElBQVYsQ0FBZUosVUE3QlI7O0FBK0JqQjs7O0FBR0FkLEVBQUFBLFVBQVUsRUFBRXBDLFNBQVMsQ0FBQ2lELE1BQVYsQ0FBaUJDLFVBbENaOztBQW9DakI7OztBQUdBYixFQUFBQSxXQUFXLEVBQUVyQyxTQUFTLENBQUNxRCxJQXZDTjs7QUF5Q2pCOzs7QUFHQWYsRUFBQUEsVUFBVSxFQUFFdEMsU0FBUyxDQUFDcUQsSUE1Q0w7O0FBOENqQjs7O0FBR0F2QixFQUFBQSxFQUFFLEVBQUU5QixTQUFTLENBQUNpRCxNQWpERzs7QUFtRGpCOzs7QUFHQXBCLEVBQUFBLEtBQUssRUFBRTdCLFNBQVMsQ0FBQ3VELE1BQVYsQ0FBaUJMLFVBdERQOztBQXdEakI7OztBQUdBWCxFQUFBQSxRQUFRLEVBQUV2QyxTQUFTLENBQUNxRDtBQTNESCxDOztBQThIckIsZUFBZWhELFNBQVMsQ0FBQ3NCLHFCQUFELENBQXhCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBCb3ggZnJvbSAndWktYm94J1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnZ2xhbW9yJ1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vLi4vdHlwb2dyYXBoeSdcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJy4uLy4uL3RoZW1lJ1xuXG5jb25zdCBsYWJlbENsYXNzID0gY3NzKHtcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBmbGV4OiAxLFxuICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xufSlcblxuY29uc3Qgd3JhcHBlckNsYXNzID0gY3NzKHtcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgZmxleDogMSxcbiAgY3Vyc29yOiAncG9pbnRlcicsXG4gIG1hcmdpbkxlZnQ6ICctMXB4JyxcbiAgW2A6Zmlyc3QtY2hpbGQgLiR7bGFiZWxDbGFzc31gXToge1xuICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDMsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogM1xuICB9LFxuICBbYDpsYXN0LWNoaWxkIC4ke2xhYmVsQ2xhc3N9YF06IHtcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1czogMyxcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogM1xuICB9XG59KVxuXG5jb25zdCBvZmZzY3JlZW5Dc3MgPSBjc3Moe1xuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICBoZWlnaHQ6ICcxcHgnLFxuICB3aWR0aDogJzFweCcsXG4gIHBhZGRpbmc6IDAsXG4gIG1hcmdpbjogJy0xcHgnLFxuICBib3JkZXI6IDAsXG4gIGNsaXA6ICdyZWN0KDAgMCAwIDApJ1xufSlcblxuY2xhc3MgU2VnbWVudGVkQ29udHJvbFJhZGlvIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSByYWRpbyBpbnB1dC5cbiAgICAgKi9cbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFiZWwgdXNlZCBmb3IgdGhlIHJhZGlvLlxuICAgICAqL1xuICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGF0dHJpYnV0ZSBvZiB0aGUgcmFkaW8gaW5wdXQuXG4gICAgICovXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNvbnRyb2wuXG4gICAgICovXG4gICAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoZSByYWRpbyBpbnB1dCBpcyBjaGVja2VkLlxuICAgICAqL1xuICAgIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgc3RhdGUgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBlYXJhbmNlIG9mIHRoZSBjb250cm9sLiBDdXJyZW50bHkgb25seSBgZGVmYXVsdGAgaXMgcG9zc2libGUuXG4gICAgICovXG4gICAgYXBwZWFyYW5jZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCB0aGlzIGl0ZW0gaXMgdGhlIGZpcnN0IGl0ZW0uXG4gICAgICovXG4gICAgaXNGaXJzdEl0ZW06IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCB0aGlzIGl0ZW0gaXMgdGhlIGxhc3QgaXRlbS5cbiAgICAgKi9cbiAgICBpc0xhc3RJdGVtOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWQgb2YgdGhlIHJhZGlvIG9wdGlvbi5cbiAgICAgKi9cbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIFRoZW1lIHByb3ZpZGVkIGJ5IFRoZW1lUHJvdmlkZXIuXG4gICAgICovXG4gICAgdGhlbWU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgdGhlIGlucHV0IGlzIGRpc2FibGVkLlxuICAgICAqL1xuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbFxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHRoZW1lLFxuXG4gICAgICBpZCxcbiAgICAgIG5hbWUsXG4gICAgICBsYWJlbCxcbiAgICAgIHZhbHVlLFxuICAgICAgaGVpZ2h0LFxuICAgICAgY2hlY2tlZCxcbiAgICAgIG9uQ2hhbmdlLFxuICAgICAgYXBwZWFyYW5jZSxcbiAgICAgIGlzRmlyc3RJdGVtLFxuICAgICAgaXNMYXN0SXRlbSxcbiAgICAgIGRpc2FibGVkXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IHRoZW1lZENsYXNzTmFtZSA9IHRoZW1lLmdldFNlZ21lbnRlZENvbnRyb2xSYWRpb0NsYXNzTmFtZShhcHBlYXJhbmNlKVxuICAgIGNvbnN0IHRleHRTaXplID0gdGhlbWUuZ2V0VGV4dFNpemVGb3JDb250cm9sSGVpZ2h0KGhlaWdodClcbiAgICBjb25zdCBib3JkZXJSYWRpdXMgPSB0aGVtZS5nZXRCb3JkZXJSYWRpdXNGb3JDb250cm9sSGVpZ2h0KGhlaWdodClcblxuICAgIHJldHVybiAoXG4gICAgICA8Qm94XG4gICAgICAgIGNsYXNzTmFtZT17Y3god3JhcHBlckNsYXNzLnRvU3RyaW5nKCksIHRoZW1lZENsYXNzTmFtZSl9XG4gICAgICAgIGRhdGEtYWN0aXZlPXtjaGVja2VkfVxuICAgICAgICB7Li4uKGlzRmlyc3RJdGVtXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgICAgICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogYm9yZGVyUmFkaXVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7fSl9XG4gICAgICAgIHsuLi4oaXNMYXN0SXRlbVxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBib3JkZXJUb3BSaWdodFJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgICAgICAgICAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogYm9yZGVyUmFkaXVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7fSl9XG4gICAgICA+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7b2Zmc2NyZWVuQ3NzfWB9XG4gICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBvbkNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAvPlxuICAgICAgICA8VGV4dFxuICAgICAgICAgIGlzPVwibGFiZWxcIlxuICAgICAgICAgIGN1cnNvcj1cInBvaW50ZXJcIlxuICAgICAgICAgIGh0bWxGb3I9e2lkfVxuICAgICAgICAgIGZvbnRXZWlnaHQ9ezUwMH1cbiAgICAgICAgICBzaXplPXt0ZXh0U2l6ZX1cbiAgICAgICAgICBjbGFzc05hbWU9e2Ake2xhYmVsQ2xhc3N9YH1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgID5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvQm94PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoU2VnbWVudGVkQ29udHJvbFJhZGlvKVxuIl19