import _extends from "@babel/runtime/helpers/esm/extends";
import _objectWithoutProperties from "@babel/runtime/helpers/esm/objectWithoutProperties";
import _classCallCheck from "@babel/runtime/helpers/esm/classCallCheck";
import _createClass from "@babel/runtime/helpers/esm/createClass";
import _possibleConstructorReturn from "@babel/runtime/helpers/esm/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime/helpers/esm/getPrototypeOf";
import _assertThisInitialized from "@babel/runtime/helpers/esm/assertThisInitialized";
import _inherits from "@babel/runtime/helpers/esm/inherits";
import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

import React, { PureComponent } from 'react';
import PropTypes from 'prop-types';
import Box, { spacing, position, layout, dimensions } from 'ui-box';
import safeInvoke from '../../lib/safe-invoke';
import SegmentedControlRadio from './SegmentedControlRadio';
var radioCount = 1; // Used for generating unique input names

var SegmentedControl =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(SegmentedControl, _PureComponent);

  function SegmentedControl(props, context) {
    var _this;

    _classCallCheck(this, SegmentedControl);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SegmentedControl).call(this, props, context));

    _defineProperty(_assertThisInitialized(_this), "isControlled", function () {
      return typeof _this.props.value !== 'undefined' && _this.props.value !== null;
    });

    _defineProperty(_assertThisInitialized(_this), "handleChange", function (value) {
      // Save a render cycle when it's a controlled input
      if (!_this.isControlled()) {
        _this.setState({
          value: value
        });
      }

      safeInvoke(_this.props.onChange, value);
    });

    var _value = props.defaultValue;

    if (typeof _value === 'undefined' || _value === null) {
      _value = props.options[0].value;
    }

    _this.state = {
      value: _value
    };
    _this.name = "SegmentedControl-".concat(radioCount);
    radioCount += 1;
    return _this;
  }

  _createClass(SegmentedControl, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          filterOutValue = _this$props.value,
          name = _this$props.name,
          height = _this$props.height,
          options = _this$props.options,
          onChange = _this$props.onChange,
          defaultValue = _this$props.defaultValue,
          disabled = _this$props.disabled,
          props = _objectWithoutProperties(_this$props, ["value", "name", "height", "options", "onChange", "defaultValue", "disabled"]); // Allows it to behave like a controlled input


      var value = this.state.value;

      if (this.isControlled()) {
        value = this.props.value;
      }

      return React.createElement(Box, _extends({
        display: "flex",
        marginRight: -1,
        height: height
      }, props), options.map(function (option, index) {
        return React.createElement(SegmentedControlRadio, {
          key: option.value,
          id: _this2.name + index,
          name: name || _this2.name,
          label: option.label,
          value: String(option.value),
          height: height,
          checked: value === option.value,
          onChange: _this2.handleChange.bind(null, option.value),
          appearance: "default",
          isFirstItem: index === 0,
          isLastItem: index === options.length - 1,
          disabled: disabled
        });
      }));
    }
  }]);

  return SegmentedControl;
}(PureComponent);

SegmentedControl.displayName = "SegmentedControl";

_defineProperty(SegmentedControl, "propTypes", _objectSpread({}, spacing.propTypes, {}, position.propTypes, {}, layout.propTypes, {}, dimensions.propTypes, {
  /**
   * The options for the radios of the Segmented Control.
   */
  options: PropTypes.arrayOf(PropTypes.shape({
    label: PropTypes.node.isRequired,
    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]).isRequired
  })).isRequired,

  /**
   * The current value of the Segmented Control when controlled.
   */
  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),

  /**
   * The default value of the Segmented Control when uncontrolled.
   */
  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),

  /**
   * Function called when the value changes.
   */
  onChange: PropTypes.func,

  /**
   * The name of the radio group.
   */
  name: PropTypes.string,

  /**
   * The height of the Segmented Control.
   */
  height: PropTypes.number,

  /**
   * When true, the Segmented Control is disabled.
   */
  disabled: PropTypes.bool
}));

_defineProperty(SegmentedControl, "defaultProps", {
  height: 32
});

export { SegmentedControl as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZWdtZW50ZWQtY29udHJvbC9zcmMvU2VnbWVudGVkQ29udHJvbC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJCb3giLCJzcGFjaW5nIiwicG9zaXRpb24iLCJsYXlvdXQiLCJkaW1lbnNpb25zIiwic2FmZUludm9rZSIsIlNlZ21lbnRlZENvbnRyb2xSYWRpbyIsInJhZGlvQ291bnQiLCJTZWdtZW50ZWRDb250cm9sIiwicHJvcHMiLCJjb250ZXh0IiwidmFsdWUiLCJpc0NvbnRyb2xsZWQiLCJzZXRTdGF0ZSIsIm9uQ2hhbmdlIiwiZGVmYXVsdFZhbHVlIiwib3B0aW9ucyIsInN0YXRlIiwibmFtZSIsImZpbHRlck91dFZhbHVlIiwiaGVpZ2h0IiwiZGlzYWJsZWQiLCJtYXAiLCJvcHRpb24iLCJpbmRleCIsImxhYmVsIiwiU3RyaW5nIiwiaGFuZGxlQ2hhbmdlIiwiYmluZCIsImxlbmd0aCIsInByb3BUeXBlcyIsImFycmF5T2YiLCJzaGFwZSIsIm5vZGUiLCJpc1JlcXVpcmVkIiwib25lT2ZUeXBlIiwibnVtYmVyIiwic3RyaW5nIiwiYm9vbCIsImZ1bmMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsT0FBT0EsS0FBUCxJQUFnQkMsYUFBaEIsUUFBcUMsT0FBckM7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLFlBQXRCO0FBQ0EsT0FBT0MsR0FBUCxJQUFjQyxPQUFkLEVBQXVCQyxRQUF2QixFQUFpQ0MsTUFBakMsRUFBeUNDLFVBQXpDLFFBQTJELFFBQTNEO0FBQ0EsT0FBT0MsVUFBUCxNQUF1Qix1QkFBdkI7QUFDQSxPQUFPQyxxQkFBUCxNQUFrQyx5QkFBbEM7QUFFQSxJQUFJQyxVQUFVLEdBQUcsQ0FBakIsQyxDQUFtQjs7SUFFRUMsZ0I7Ozs7O0FBbUVuQiw0QkFBWUMsS0FBWixFQUFtQkMsT0FBbkIsRUFBNEI7QUFBQTs7QUFBQTs7QUFDMUIsMEZBQU1ELEtBQU4s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U0EvREhaLGdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBCb3gsIHsgc3BhY2luZywgcG9zaXRpb24sIGxheW91dCwgZGltZW5zaW9ucyB9IGZyb20gJ3VpLWJveCdcbmltcG9ydCBzYWZlSW52b2tlIGZyb20gJy4uLy4uL2xpYi9zYWZlLWludm9rZSdcbmltcG9ydCBTZWdtZW50ZWRDb250cm9sUmFkaW8gZnJvbSAnLi9TZWdtZW50ZWRDb250cm9sUmFkaW8nXG5cbmxldCByYWRpb0NvdW50ID0gMSAvLyBVc2VkIGZvciBnZW5lcmF0aW5nIHVuaXF1ZSBpbnB1dCBuYW1lc1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWdtZW50ZWRDb250cm9sIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgc29tZSBCb3ggQVBJcy5cbiAgICAgKi9cbiAgICAuLi5zcGFjaW5nLnByb3BUeXBlcyxcbiAgICAuLi5wb3NpdGlvbi5wcm9wVHlwZXMsXG4gICAgLi4ubGF5b3V0LnByb3BUeXBlcyxcbiAgICAuLi5kaW1lbnNpb25zLnByb3BUeXBlcyxcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHRpb25zIGZvciB0aGUgcmFkaW9zIG9mIHRoZSBTZWdtZW50ZWQgQ29udHJvbC5cbiAgICAgKi9cbiAgICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihcbiAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICAgICAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIFByb3BUeXBlcy5ib29sXG4gICAgICAgIF0pLmlzUmVxdWlyZWRcbiAgICAgIH0pXG4gICAgKS5pc1JlcXVpcmVkLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIFNlZ21lbnRlZCBDb250cm9sIHdoZW4gY29udHJvbGxlZC5cbiAgICAgKi9cbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIFByb3BUeXBlcy5ib29sXG4gICAgXSksXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgU2VnbWVudGVkIENvbnRyb2wgd2hlbiB1bmNvbnRyb2xsZWQuXG4gICAgICovXG4gICAgZGVmYXVsdFZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgUHJvcFR5cGVzLmJvb2xcbiAgICBdKSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqL1xuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSByYWRpbyBncm91cC5cbiAgICAgKi9cbiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgU2VnbWVudGVkIENvbnRyb2wuXG4gICAgICovXG4gICAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCB0aGUgU2VnbWVudGVkIENvbnRyb2wgaXMgZGlzYWJsZWQuXG4gICAgICovXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGhlaWdodDogMzJcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgc3VwZXIocHJvcHMsIGNvbnRleHQpXG5cbiAgICBsZXQgdmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWVcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdmFsdWUgPSBwcm9wcy5vcHRpb25zWzBdLnZhbHVlXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlXG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gYFNlZ21lbnRlZENvbnRyb2wtJHtyYWRpb0NvdW50fWBcbiAgICByYWRpb0NvdW50ICs9IDFcbiAgfVxuXG4gIGlzQ29udHJvbGxlZCA9ICgpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucHJvcHMudmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHRoaXMucHJvcHMudmFsdWUgIT09IG51bGxcbiAgfVxuXG4gIGhhbmRsZUNoYW5nZSA9IHZhbHVlID0+IHtcbiAgICAvLyBTYXZlIGEgcmVuZGVyIGN5Y2xlIHdoZW4gaXQncyBhIGNvbnRyb2xsZWQgaW5wdXRcbiAgICBpZiAoIXRoaXMuaXNDb250cm9sbGVkKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZSB9KVxuICAgIH1cblxuICAgIHNhZmVJbnZva2UodGhpcy5wcm9wcy5vbkNoYW5nZSwgdmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdmFsdWU6IGZpbHRlck91dFZhbHVlLCAvLyBGaWx0ZXIgb3V0LlxuICAgICAgbmFtZSxcbiAgICAgIGhlaWdodCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBvbkNoYW5nZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgLy8gQWxsb3dzIGl0IHRvIGJlaGF2ZSBsaWtlIGEgY29udHJvbGxlZCBpbnB1dFxuICAgIGxldCB7IHZhbHVlIH0gPSB0aGlzLnN0YXRlXG4gICAgaWYgKHRoaXMuaXNDb250cm9sbGVkKCkpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Qm94IGRpc3BsYXk9XCJmbGV4XCIgbWFyZ2luUmlnaHQ9ey0xfSBoZWlnaHQ9e2hlaWdodH0gey4uLnByb3BzfT5cbiAgICAgICAge29wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgPFNlZ21lbnRlZENvbnRyb2xSYWRpb1xuICAgICAgICAgICAga2V5PXtvcHRpb24udmFsdWV9XG4gICAgICAgICAgICBpZD17dGhpcy5uYW1lICsgaW5kZXh9XG4gICAgICAgICAgICBuYW1lPXtuYW1lIHx8IHRoaXMubmFtZX1cbiAgICAgICAgICAgIGxhYmVsPXtvcHRpb24ubGFiZWx9XG4gICAgICAgICAgICB2YWx1ZT17U3RyaW5nKG9wdGlvbi52YWx1ZSl9XG4gICAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICAgIGNoZWNrZWQ9e3ZhbHVlID09PSBvcHRpb24udmFsdWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZChudWxsLCBvcHRpb24udmFsdWUpfVxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgaXNGaXJzdEl0ZW09e2luZGV4ID09PSAwfVxuICAgICAgICAgICAgaXNMYXN0SXRlbT17aW5kZXggPT09IG9wdGlvbnMubGVuZ3RoIC0gMX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgIDwvQm94PlxuICAgIClcbiAgfVxufVxuIl19